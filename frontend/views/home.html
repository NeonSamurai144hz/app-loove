<link rel="stylesheet" href="/assets/css/home.css">
<div class="container">
    <div class="main-content">
        <div id="mini-app-container">
            <div class="home-dashboard">
                <h2>Welcome to Sweep</h2>
                <p>Find your perfect match through video chat</p>

                <button id="find-match-btn" class="action-btn primary-btn">
                    <i class="fas fa-video"></i> Find Video Match
                </button>

                <button id="logout-btn" class="action-btn secondary-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </div>
    <!-- Navbar will be injected here -->
    <div id="navbar-placeholder"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Handle Find Match button
        document.getElementById('find-match-btn').addEventListener('click', function() {
            router.navigate('video-chat');
        });

        // Handle Logout button
        document.getElementById('logout-btn').addEventListener('click', function() {
            fetch('/api/auth/logout')
                .then(res => res.json())
                .then(data => {
                    if (data.success) {
                        router.navigate('login');
                    } else {
                        alert('Logout failed. Please try again.');
                    }
                })
                .catch(err => {
                    console.error('Error during logout:', err);
                    alert('Connection error. Please try again.');
                });
        });
    });
</script>